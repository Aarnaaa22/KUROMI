/* Advanced Animations for Kuromi Claw Machine */

/* Coin insertion animation */
@keyframes coinDrop {
    0% {
        opacity: 1;
        transform: translateY(-20px) scale(1);
    }
    50% {
        transform: translateY(40px) scale(0.8);
    }
    100% {
        opacity: 0;
        transform: translateY(60px) scale(0.6);
    }
}

/* Claw movement animations */
@keyframes clawGrab {
    0% { transform: translateY(0); }
    50% { transform: translateY(100px); }
    100% { transform: translateY(0); }
}

@keyframes clawReturn {
    0% { transform: translateX(0); }
    100% { transform: translateX(0); }
}

/* Prize drop animation */
@keyframes prizeDrop {
    0% {
        opacity: 1;
        transform: translateY(0) rotate(0deg);
    }
    100% {
        opacity: 1;
        transform: translateY(200px) rotate(360deg);
    }
}

/* Prize wiggle when grabbed */
@keyframes prizeWiggle {
    0%, 100% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(-5deg) scale(1.1); }
    75% { transform: rotate(5deg) scale(1.1); }
}

/* Success celebration */
@keyframes celebration {
    0% { transform: scale(1) rotate(0deg); opacity: 1; }
    25% { transform: scale(1.2) rotate(90deg); opacity: 0.8; }
    50% { transform: scale(1.4) rotate(180deg); opacity: 0.6; }
    75% { transform: scale(1.2) rotate(270deg); opacity: 0.8; }
    100% { transform: scale(1) rotate(360deg); opacity: 1; }
}

/* Floating animation for prizes */
@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(2deg); }
}

/* Bounce animation for buttons */
@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

/* Glow effect for special items */
@keyframes glow {
    0%, 100% { 
        box-shadow: 0 0 5px currentColor;
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 0 20px currentColor, 0 0 30px currentColor;
        transform: scale(1.05);
    }
}

/* Shake animation for failed attempts */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
    20%, 40%, 60%, 80% { transform: translateX(2px); }
}

/* Score counter animation */
@keyframes scoreUp {
    0% { transform: scale(1); color: inherit; }
    50% { transform: scale(1.3); color: #FFD700; }
    100% { transform: scale(1); color: inherit; }
}

/* Machine vibration */
@keyframes machineVibrate {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-1px); }
    75% { transform: translateX(1px); }
}

/* Rail movement animation */
@keyframes railMove {
    0% { opacity: 0.5; }
    100% { opacity: 1; }
}

/* Claw cable extension */
@keyframes cableExtend {
    0% { height: 20px; }
    50% { height: 120px; }
    100% { height: 20px; }
}

/* Prize collection slide in */
@keyframes slideInPrize {
    0% {
        opacity: 0;
        transform: translateY(-20px) scale(0.8);
    }
    50% {
        opacity: 1;
        transform: translateY(5px) scale(1.1);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Status message popup */
@keyframes statusPopup {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }
    20% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.2);
    }
    80% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
}

/* Glass shine effect */
@keyframes glassShine {
    0% { transform: translateX(-100%); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateX(300%); opacity: 0; }
}

/* Button press effect */
@keyframes buttonPress {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

/* Magnetic effect for coins */
@keyframes magneticPull {
    0% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-5px) rotate(180deg); }
    100% { transform: translateY(0) rotate(360deg); }
}

/* Combo multiplier effect */
@keyframes comboEffect {
    0% {
        transform: scale(1);
        color: var(--kuromi-black);
    }
    25% {
        transform: scale(1.1);
        color: var(--kuromi-yellow);
    }
    50% {
        transform: scale(1.2);
        color: var(--kuromi-pink);
    }
    75% {
        transform: scale(1.1);
        color: var(--kuromi-red);
    }
    100% {
        transform: scale(1);
        color: var(--kuromi-black);
    }
}

/* Utility classes for animations */
.animate-coin-drop {
    animation: coinDrop 0.8s ease-out forwards;
}

.animate-claw-grab {
    animation: clawGrab 2s ease-in-out;
}

.animate-prize-drop {
    animation: prizeDrop 1.5s ease-in forwards;
}

.animate-wiggle {
    animation: prizeWiggle 0.5s ease-in-out;
}

.animate-celebration {
    animation: celebration 1s ease-in-out;
}

.animate-float {
    animation: float 3s ease-in-out infinite;
}

.animate-bounce {
    animation: bounce 1s ease-in-out;
}

.animate-glow {
    animation: glow 2s ease-in-out infinite;
}

.animate-shake {
    animation: shake 0.5s ease-in-out;
}

.animate-score-up {
    animation: scoreUp 0.6s ease-out;
}

.animate-vibrate {
    animation: machineVibrate 0.1s ease-in-out 5;
}

.animate-slide-in {
    animation: slideInPrize 0.8s ease-out forwards;
}

.animate-status-popup {
    animation: statusPopup 3s ease-out forwards;
}

.animate-button-press {
    animation: buttonPress 0.2s ease-out;
}

.animate-magnetic {
    animation: magneticPull 1s ease-in-out infinite;
}

.animate-combo {
    animation: comboEffect 1s ease-in-out;
}

/* Special effect combinations */
.special-win-effect {
    animation: 
        celebration 1s ease-in-out,
        glow 2s ease-in-out infinite 1s;
}

.rare-prize-effect {
    animation: 
        float 3s ease-in-out infinite,
        glow 1.5s ease-in-out infinite;
}

.machine-active {
    animation: machineVibrate 0.1s ease-in-out infinite;
}

.claw-active .claw-cable {
    animation: cableExtend 2s ease-in-out;
}

.glass-front::after {
    content: '';
    position: absolute;
    top: 0;
    left: -50%;
    width: 50%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.6), 
        transparent
    );
    animation: glassShine 3s ease-in-out infinite;
}